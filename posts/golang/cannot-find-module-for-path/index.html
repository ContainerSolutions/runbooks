<!doctype html><html><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-N2WWDBK5SV"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-N2WWDBK5SV')</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Cannot Find Module for Path &ndash; Runbooks</title><meta name=description property="og:description" content="eg: build command-line-arguments: cannot find module for path|"><meta name=apple-mobile-web-app-title content="Runbooks"><link rel=stylesheet href=/runbooks/assets/syntax.css><link rel=stylesheet href=/runbooks/assets/primer-build.css><link rel=stylesheet href=/runbooks/assets/style.css><link rel=stylesheet href=https://containersolutions.github.io/runbooks/custom_style.899dd13784115b34654e51c818307a0a.css></head><body class=bg-gray><div id=holy class="container-lg bg-white h-100"><div id=header class="px-1 bg-white"><nav class="UnderlineNav UnderlineNav--right px-2"><a class="UnderlineNav-actions muted-link h2" href=https://containersolutions.github.io/runbooks/>Runbooks</a><div class="pseudo-menu-item text-gray"><div class=pseudo-flex-item><span class=pseudo-nav-item><a href=https://github.com/containersolutions/runbooks/edit/master/content/posts/golang/cannot-find-module-for-path.md class=edit-link><svg aria-hidden="true" height="16" role="img" viewBox="0 0 14 16" width="14" class="pencil"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996.0 011.41.0l1.59 1.59c.39.39.39 1.02.0 1.41z"/></svg>&nbsp;
Improve this page</a></span></div></div><div class=UnderlineNav-body><div class="flex-column position-relative dropdown"><span class=UnderlineNav-item>Nav Menu</span><div class="Box Box--condensed position-absolute dropdown-content"><div class=Box-body><a href=/runbooks/>Home</a></div><div class=Box-body><a href=/runbooks/posts/kubernetes/>Kubernetes</a></div><div class=Box-body><a href=/runbooks/posts/linux/>Linux</a></div><div class=Box-body><a href=/runbooks/posts/networking/>Networking</a></div><div class=Box-body><a href=/runbooks/posts/python/>Python</a></div><div class=Box-body><a href=/runbooks/posts/how-to/>How-Tos</a></div><div class=Box-body><a href=/runbooks/posts/golang/>Go</a></div></div></div></div></nav></div><div role=main id=main class="holy-main markdown-body px-4 bg-white"><div class=Subhead><div class=Subhead-heading><div class="h1 mt-3 mb-1">Cannot Find Module for Path</div></div><div class=Subhead-description><div class=float-md-right><span title="Lastmod: 2023-01-26. Published at: 0001-01-01.">Lastmod: 2023-01-26</span></div></div></div><article><section class="pb-6 mb-3 border-bottom"><h2 id=overview>Overview</h2><p>This issue happens when Go can&rsquo;t locate a module you&rsquo;re trying to use. This is common when trying to use relative imports to include a module which is present on your local machine, which was allowed until Go version 1.11 introduced <a href=#https://blog.golang.org/using-go-modules>Go Modules</a>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=color:#75715e>// ./main.go
</span><span style=color:#75715e></span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;./fruit&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>fruit</span>.<span style=color:#a6e22e>GetFruit</span>())
}

</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=color:#75715e>// ./fruit/fruitcart.go
</span><span style=color:#75715e></span><span style=color:#f92672>package</span> <span style=color:#a6e22e>fruit</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GetFruit</span>() <span style=color:#66d9ef>string</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Apple&#34;</span>
}
</code></pre></div><p>Example error:</p><pre><code>% go run main.go
build command-line-arguments: cannot find module for path
</code></pre><p>With Go Modules enabled we encounter a build error if we try to import our local module in this way</p><h2 id=initial-steps-overview>Initial Steps Overview</h2><ol><li><p><a href=#step-1>Determine your Go version</a></p></li><li><p><a href=#step-2>Check your go.mod file is present</a></p></li></ol><h2 id=detailed-steps>Detailed Steps</h2><h3 id=1-determine-your-go-version>1) Determine your Go version</h3><pre><code>% go version
go version go1.16.6 darwin/amd64
</code></pre><p>Use <code>go version</code> to determine your installation version. If this is 1.11 or higher, you are likely using Go Modules by default. This can be disabled to work as per previous versions of Go by following <a href=#solution-b>Solution B</a> though, unless there is a specific cause to use this older system, it may be better to understand and adapt to the newer system by following <a href=#step-2>Step 2</a>.</p><h3 id=step-2>2) Check your go.mod file is present</h3><p>Under the new Go Modules system, every module is required to have a <code>go.mod</code> file present in its root directory. This file does two things: it identifies this folder as a module, and also specifies the module&rsquo;s dependencies. If this file is not present on your working module and you try to access a package elsewhere, you may encounter a related error: <code>no required module provides package</code>, as demonstrated below.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=color:#75715e>// With no go.mod file present
</span><span style=color:#75715e></span><span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;rsc.io/quote&#34;</span> <span style=color:#75715e>// A package on the internet
</span><span style=color:#75715e></span>)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>quote</span>.<span style=color:#a6e22e>Hello</span>())
}
</code></pre></div><pre><code>% go run main.go
main.go:6:2: no required module provides package rsc.io/quote: go.mod file not found in current directory or any parent directory; see 'go help modules'
</code></pre><p>You can simply look in the directory of your module to determine if you have a go.mod file included with your module. If this file is missing, you can create it by following <a href=#solution-a>Solution A</a>.</p><h2 id=solutions-list>Solutions List</h2><p>A) <a href=#solution-a>Create a Go.mod file</a></p><p>B) <a href=#solution-b>Disable Go Modules</a></p><h2 id=solutions-detail>Solutions Detail</h2><h3 id=a-create-a-gomod-file>A) Create a Go.mod file</h3><p>In this event, the first step is to create a go.mod file for your current project. This can be done with the command <code>go mod init example.com/your-module-name</code>.</p><p>It&rsquo;s important to note that the url, in this case <code>example.com/your-module-name</code> <em>should</em> in theory be a location on the internet where the module you&rsquo;re currently working on will be accessible - a Github repo for example. However, this is not strictly necessary, and the subsequent steps will work regardless of how you set this project name for now - indeed you can leave it exactly as &lsquo;example.com&rsquo; and issues wont arise until you come to publish your package and include it in future projects.</p><p>If your module is not published to the internet yet (for example if you are working on a new Git branch), you can follow <a href=#further-step-1>Further Step 1</a> to tell Go to use a local module.</p><h3 id=solution-b>B) Disable Go Modules</h3><p>You can disable Go Modules in order to revert to the &lsquo;old&rsquo; way of handling dependencies, which allows for relative imports. This may have unexpected consequences if you&rsquo;ve been using modules already, and it&rsquo;s recommended to understand how Go handles dependencies in this &lsquo;old&rsquo; way using <a href=https://golang.org/doc/gopath_code>GOPATH</a>.</p><p>This is done by setting the environment variable <code>GO111MODULE=off</code>.</p><pre><code>$ GO111MODULE=off go run main.go
Apple
</code></pre><p>Your code will then build while allowing modules to be imported locally.</p><h2 id=further-steps>Further Steps</h2><ol><li><a href=#further-steps-1>Tell Go to use a local module</a></li></ol><h3 id=further-steps-1>1) Tell Go to use a local module</h3><p>Within your go.mod file for your working project you can now require a module using its URL to use within this project. The module to be imported also requires its own go.mod file, so if this is a local module you&rsquo;ll need to create this in the same way.</p><p>If the module you want to import is not published to the internet, you can use the &lsquo;replace&rsquo; syntax to tell Go where to find it on your local machine instead instead.</p><p>Your go.mod file would then look something like this:</p><pre><code>module example.com/your-module-name

go 1.16

require (
    example.com/fruit v1.2.3
)

replace example.com/fruit =&gt; ./fruit
</code></pre><h2 id=further-information>Further Information</h2><p><a href=https://golang.org/ref/mod>Go modules reference</a></p><p><a href=https://stackoverflow.com/questions/52123627/how-do-i-resolve-cannot-find-module-for-path-x-importing-a-local-go-module>Stack Overflow</a></p><h2 id=owner>Owner</h2><p><a href=https://github.com/jabray5>Joey</a></p></section><section><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//runbooks.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></article></div><div id=side class="pr-1 bg-white"><aside class=pr-3><div id=toc class="Box Box--blue mb-3"><b>Cannot Find Module for Path</b><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#initial-steps-overview>Initial Steps Overview</a></li><li><a href=#detailed-steps>Detailed Steps</a><ul><li><a href=#1-determine-your-go-version>1) Determine your Go version</a></li><li><a href=#step-2>2) Check your go.mod file is present</a></li></ul></li><li><a href=#solutions-list>Solutions List</a></li><li><a href=#solutions-detail>Solutions Detail</a><ul><li><a href=#a-create-a-gomod-file>A) Create a Go.mod file</a></li><li><a href=#solution-b>B) Disable Go Modules</a></li></ul></li><li><a href=#further-steps>Further Steps</a><ul><li><a href=#further-steps-1>1) Tell Go to use a local module</a></li></ul></li><li><a href=#further-information>Further Information</a></li><li><a href=#owner>Owner</a></li></ul></nav></div><div></div></aside></div><div id=footer class="pt-2 pb-3 bg-white text-center"></div></div><div class="container-lg bg-white h-50">&nbsp;</div><div class=footer-container-wrapper><div class=footer-image><a href=https://container-solutions.com><img src=https://containersolutions.github.io/runbooks/images/logo-main.svg class=hs-image-widget style=width:120px;border-width:0;border:0 width=120 alt=logo-main title=logo-main></a></div><div>Runbooks is sponsored by <a href=https://container-solutions.com>Container Solutions</a>. We bring culture, strategy, and technology together<br>&mdash;to make sure your Cloud Native migration is done right. <a href=https://www.container-solutions.com>See how we can help</a></div></div><div class="bg-white h-10"><div class="text-small text-gray credits">Powered by the
<a href=https://github.com/qqhann/hugo-primer class=link-gray-dark>Hugo-Primer</a> theme for
<a href=https://gohugo.io class=link-gray-dark>Hugo</a>.</div></div></body></html>